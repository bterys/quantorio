webpackJsonp([6],{"9Tyx":function(e,n,t){"use strict";var r=t("/5sW"),o=t("TXmL");r.default.use(o.a);var a=new o.a({locale:"en",fallbackLocale:"en",messages:{}});n.a=a},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});t("SCKt"),t("kLF+"),t("VM32"),t("0K64"),t("X8hh"),t("fB7P"),t("B4Cs"),t("rplX");var r=t("/5sW"),o=t("fyxR"),a=t("cVIJ"),i={components:{LoadingBar:t.n(a).a},methods:{error:function(){},done:function(){}},computed:{progress:function(){return 100*this.$store.state.networkProgress}}},u={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"outer"},[n("div",{staticClass:"lmask"},[n("loading-bar",{attrs:{"on-error-done":this.error,"on-progress-done":this.done,progress:this.progress}})],1)])},staticRenderFns:[]};var s=t("VU/8")(i,u,!1,function(e){t("gEwP")},"data-v-083b199c",null).exports;t.e(3).then(t.bind(null,"mcDd"));var c={components:{Index:function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,"42Hy"))},Loading:s},name:"app",data:function(){return{inited:!1,preload:!1}},mounted:function(){var e=this;this.$store.commit("setLoading",!0);var n=this.$i18n.fallbackLocale;o.a.init(n).then(function(e){var t=void 0,r=navigator.language||navigator.userLanguage;return(t=e.languages[r]?r:n)!==n?o.a.loadTranslation(t):t}).then(function(n){e.$i18n.locale=n,e.preload=!0})},methods:{indexMounting:function(){this.preload&&(console.log("inited"),this.inited=!0,this.preload=!1,this.$store.commit("setLoading",!1))}},computed:{loading:function(){return this.$store.state.loading}}},l={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade"}},[!e.loading&&e.inited||e.preload?t("index",{on:{mounted:e.indexMounting}}):e._e()],1),e._v(" "),t("transition",{attrs:{name:"fade"}},[e.loading||!e.inited?t("Loading"):e._e()],1)],1)},staticRenderFns:[]};var f=t("VU/8")(c,l,!1,function(e){t("Y9b1")},null,null).exports,d=t("olkN"),g=t("9Tyx");r.default.config.productionTip=!1,new r.default({el:"#app",store:d.a,i18n:g.a,render:function(e){return e(f)}})},Y9b1:function(e,n){},fyxR:function(e,n,t){"use strict";var r=t("olkN"),o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();var a=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,n)}return o(e,[{key:"getProp",value:function(e){var n=void 0;return this[r.a.state.difficulty]?void 0===(n=this[r.a.state.difficulty])&&(n=this.normal):n=this.normal,n[e]}},{key:"results",get:function(){return this.getProp("results")}},{key:"energy_required",get:function(){return this.getProp("energy_required")}},{key:"ingredients",get:function(){return this.getProp("ingredients")}},{key:"ingredient_count",get:function(){return this.getProp("ingredient_count")}}]),e}(),i=t("9Tyx"),u=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s={},c={},l={fs:s,files:c,meta:void 0,getFileContent:function(e){return c[e]},exists:function(e){var n=s;return!e.split("/").some(function(e){return!(n=n[e])})},readDir:function(e){var n=s;return e.split("/").forEach(function(e){return!!n&&(n=n[e])}),n?Object.keys(n).join("|"):""},extractZipToVirtualFS:function(e,n){var t=void 0;(n=n||"")?(t=s,s[n]=s[n]||{},t=s[n],n+="/"):t=s;var r=[];return e.forEach(function(e,o){var a=u(e,2),i=a[0],s=a[1];console.log("extracting "+i);var l=t;s.forEach(function(e,t){if(t.dir){var o=l;t.name.split("/").forEach(function(e){o[e]?o=o[e]:e&&(o[e]={})});var a=t.name.match(/(.*)\/(.+)/);a&&a[2]||(a={1:"",2:t.name})}else{var i=t.name.substring(t.name.length-4,t.name.length);".lua"===i||".cfg"===i||".ini"===i||"json"===i?r.push(t.async("text").then(function(e){c[n+t.name]=e;var r=l;t.name.split("/").forEach(function(e){e&&r[e]?r=r[e]:r[e]=!0})})):r.push(t.async("base64").then(function(e){c[n+t.name]=e}))}})}),Promise.all(r)}},f=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.e(0).then(t.bind(null,"xe4/"));var d=void 0,g=void 0,h={};window.quantorioBridge=l;var m=function(e,n){if(!e)return-1;if(!n)return 1;var t,r,o=e.showName||e.name,a=n.showName||n.name;t=g[o].order.split("-"),r=g[a].order.split("-");for(var i=0;i<Math.max(t.length,r.length);i++){if(void 0===t[i])return-1;if(void 0===r[i])return 1;if(t[i]!==r[i])return t[i]>r[i]?1:-1}return(o=parseInt(o.replace(/^.*-/,"")))>(a=parseInt(a.replace(/^.*-/,"")))?1:o<a?-1:0},v=function(e){var n=e.languages,t={};Object.keys(n).forEach(function(e){t[n[e]]=e}),e.languages={},Object.keys(t).sort().forEach(function(n){e.languages[t[n]]=n}),e.modules.sort(m);var r={},o=[];e.inserters.sort(function(n,t){return m(e.items[n.name],e.items[t.name])}),e.inserters.forEach(function(e){r[e.turns_per_minute]||(r[e.turns_per_minute]={}),r[e.turns_per_minute][e.stack]||(r[e.turns_per_minute][e.stack]=!0,o.push(e))}),e.inserters=o,e.machines.sort(function(e,n){return"player"===e.name?-1:"player"===n.name?1:e.name>n.name?1:-1});var i={};return Object.keys(e.recipes).forEach(function(n){i[n]=new a(e.recipes[n])}),e.recipes=i,Object.keys(e.groups).forEach(function(n){var t=e.groups[n];if(t.subgroups){t.subgroupsWithItems=[];var r=0;Object.keys(t.subgroups).forEach(function(n){if(e.subgroups[n]){var o=[];Object.keys(t.subgroups[n]).forEach(function(n){if(e.items[n]&&e.recipes[n]){var t=e.recipes[n];o.push(t),r++}o.sort(m)});var a={order:t.subgroups[n],items:o,name:n};t.subgroupsWithItems.push(a)}}),0!==r?t.subgroupsWithItems.sort(m):delete e.groups[n]}else delete e.groups[n]}),e.groups=Object.values(e.groups).sort(m),console.log("done"),e},p=[],y=function(e,n){if(h[e])return h[e];console.log("loading file "+e);var o=void 0,a=e;return o=(o=n?Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"WgY6")).then(function(e){return e.loadAsync(n)}):function(e){return fetch(e,{mode:"cors"}).then(function(e){var n=e.headers.get("Content-Length");if(!n||!e.body)return e.blob();var t=p.length;p.push({length:0,loaded:0}),p[t].length=Number(n);var o=e.body.getReader(),a=new Uint8Array(n);return function e(){return o.read().then(function(n){var o=n.done,i=n.value;if(o)return a;a.set(i,p[t].loaded),p[t].loaded+=i.byteLength;var u=0,s=0;return p.forEach(function(e){u+=e.length,s+=e.loaded}),r.a.commit("setNetworkProgress",s/(u+1)),e()})}()})}(e+".zip").then(function(e){return Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"WgY6")).then(function(n){return n.loadAsync(e)})})).then(function(n){return[e,n]}),h[a]=o,o},b=function(e){Object.keys(e.translations).forEach(function(n){var t=e.translations[n];i.a.mergeLocaleMessage(n,t),r.a.commit("saveTranslation",[n,t])})},w=function(e){return y("locale/"+e).then(function(e){return k([e],void 0,void 0,!0)}).then(function(n){return b(n),r.a.commit("loadedLanguage",e),e}).catch(function(n){console.error(n),alert("error when loading "+e)})},k=function(e,n,r,o){return l.extractZipToVirtualFS(e,n).then(function(){return console.log("lua..."),function(e,n){return t.e(4).then(t.bind(null,"1PN3")).then(function(t){var r=["core","base"];if(e=e||[],r=r.concat(e),!d){(d=new t.Lua.State).push(l),d.setglobal("quantorioBridge");var o=d.load(l.files["core/quantorio.lua"],"core/quantorio.lua","t");o(),o.free()}if(n)d.execute("\n        data.raw = {}\n        loadLanguages({'"+r.join("','")+"'}, "+r.length+")\n        quantorioBridge.meta = dkjson.encode(generator.getMeta())\n        "),l.meta=JSON.parse(l.meta),b(l.meta);else{d.execute("\n        data.raw = {}\n        quantorioBridge.meta = dkjson.encode(browserParse({'"+r.join("','")+"'}, "+r.length+"))\n      ");var a=JSON.parse(l.meta);g=a.items,l.meta=v(a)}return l.meta})}(r,o)})},P=function(e){return r.a.commit("setMeta",e),b(e),e};n.a={init:function(e){return Promise.all([y("lualib"),y("core"),y("base"),y("quantorio"),y("locale/"+e)]).then(k).then(P).then(function(n){return r.a.commit("setNetworkProgress",1),w(e),n}).catch(function(e){throw e})},parse:k,setVue:P,loadTranslation:w,loadFiles:function(e){var n=[];return e.forEach(function(e){var t=f(e,2),r=t[0],o=t[1];n.push(y(r,o))}),Promise.all(n).then(function(e){var n=[];return e.forEach(function(e){var t=f(e,2),r=(t[0],t[1].folder(/^[^/]+\/$/)[0].name);n.push(r.substring(0,r.length-1))}),k(e,"data",n)}).then(P)},files:l.files,sortByOrder:m}},gEwP:function(e,n){},olkN:function(e,n,t){"use strict";var r=t("/5sW"),o=t("NYxO"),a=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.default.use(o.a);var i=new o.a.Store({state:{difficulty:"normal",meta:{},metaVersion:0,loading:0,loadedLanguages:{},networkProgress:0,dataProgress:0,indexMounted:!1},mutations:{setDifficulty:function(e,n){e.difficulty=n},setMeta:function(e,n){e.meta=n,e.metaVersion=e.metaVersion+1},saveTranslation:function(e,n){var t=a(n,2),r=t[0],o=t[1];e.meta.translations[r]=o},setLoading:function(e,n){e.loading=n?e.loading+1:e.loading-1},setNetworkProgress:function(e,n){e.networkProgress=n},setDataProgress:function(e,n){e.dataProgress=n},loadedLanguage:function(e,n){e.loadedLanguages[n]=!0}}});n.a=i}},["NHnr"]);